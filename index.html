<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>青岛水务</title>
  <script src="/libs/vue.global.js"></script>
  <script src="/libs/scrollreveal.min.js"></script>
  <link rel="stylesheet" href="./css/index.css" />
</head>

<body>
  <div id="app">
    <div class="carousel flex_column_center">
      <!-- 菜单 -->
      <div class="burger">
        <div class="menu"></div>
      </div>
      <!-- 轮播图 -->
      <div class="carousel_bg">
        <div class="SwiperBox" :style="{width: `${imgWidth}px`}" @mouseenter="MouseFun('移入')"
          @mouseleave="MouseFun('移出')">
          <!-- 图片 -->
          <div class="imgBox" :style="{left:`-${leftVal}px`,transition:`${ition}s`}">
            <img :style="{width: `${imgWidth}px`}" :src="item.imgUrl" v-for="(item,index) in imgList" :key="index" />
            <!-- 复制第一张放到最后,以实现无缝无线循环滚动效果 -->
            <img :style="{width: `${imgWidth}px`}" :src="imgList[0].imgUrl" alt="" />
          </div>
          <!-- 左箭头按钮 -->
          <!-- <div class="leftBtn" @click="throttle(PrevFun)">&larr;</div> -->
          <!-- 右箭头按钮 -->
          <!-- <div class="rightBtn" @click="throttle(NextFun)">&rarr;</div> -->
          <div class="carousel_btn">
            <div @click="instFun(index)" v-for="(item,index) in imgList.length" :key="index"
              :class="['carousel_btn_item',index==imgShow?'instActv':'']"></div>
          </div>
        </div>
      </div>
      <!-- 头部 -->
      <div class="header">
        <img src="/imgs/index/logo.png" alt="" class="logo" />
        <span class="old_page">
          访问青岛水务集团“
          <span style="color: #ec6941; font-weight: bold">旧版</span>
          ”官方网站！
        </span>
      </div>
      <!-- 导航 -->
      <ul class="nav">
        <li class="navAct">首页</li>
        <li>集团概况</li>
        <li>新闻资讯</li>
        <li>党建工作</li>
        <li>信息公开</li>
        <li>网上服务厅</li>
        <li>营商环境</li>
        <li>水务科技</li>
      </ul>
      <!-- 视频 -->
      <div class="video_area">
        <video class="video" controls>
          <source src="/imgs/1.mp4">
          </source>
          您的浏览器不支持 HTML5 video 标签。
        </video>
        <div class="video_str">
          <div class="arrows">
            <img src="/imgs/index/leftjt.png" alt="">
            <span></span>
            <img src="/imgs/index/rightjt.png" alt="">
          </div>
          <div class="arrows_tit">水载民生，务泽万家</div>
          <div class="arrows_txt">
            青岛水务集团承担青岛市城乡水务投资建设与运营管理及城市固体废弃物处理处置两大主业，产业链涉及城乡供水、排水防汛、污水处理、中水回用、海水淡化、河道运维、污泥处置、固废转运处置及相关产业链延伸发展等领域……</div>
          <div class="arrows_border"></div>
          <div class="video_more">
            <div class="video_more_txt">View More</div>
            <img src="/imgs/index/morejt.png" alt="">
          </div>
        </div>
      </div>
    </div>

    <!-- 新闻资讯 -->
    <div class="news flex_column_center">
      <div class="news_head">
        <span class="small_title">新闻资讯</span>
        <ul class="news_nav">
          <li class="news_nav_active">图片新闻</li>
          <li>水务新闻</li>
          <li>党建新闻</li>
          <li>更多</li>
        </ul>
      </div>
      <div class="news_body">
        <div class="news_left">
          <div class="img">
            <img src="/imgs/index/carouselBg.png" alt="">
          </div>
          <div class="news_arrows">
            <div class="news_arrows_date">
              <span>06</span>
              <span>2022-09</span>
            </div>
            <div style="flex: 1;">
              <div class="news_arrows_title">青岛水务集团举办“智水观澜”论坛</div>
              <div class="news_arrows_draw"></div>
              <div class="news_arrows_txt">加快推进集团公司数字化、智能化转型升级，赋能企业高质量发展，9月5日，青岛水务集团举办“智水观澜”论坛，邀国内知名专家作专题报告，集团主要领导出席论坛，
              </div>
            </div>
          </div>
        </div>
        <div class="news_list">
          <div class="news_item_active">
            <div style="width: 75%;">
              <p class="news_item_title">水务集团召开第一届第九次职工代表大会</p>
              <p class="news_item_txt">
                青岛水务集团有限公司召开第一届第九次职工代表大会。根据疫情防控工作要求，本次大会设主会场和四个分会场，以视频会议形式召开。集团党委班子成员、各单位职工代表以及列席代表共125人参加会议...</p>
            </div>
            <div class="news_item_active_date">
              <p>31</p>
              <p>2022-10</p>
            </div>
          </div>
          <div class="news_item">
            <p>
              <span>水务集团召开党委扩大会议 传达学习党的二十大精神</span>
              <span>2022-10-31</span>
            </p>
          </div>
          <div class="news_item">
            <p>
              <span>水务集团召开党委扩大会议 传达学习党的二十大精神</span>
              <span>2022-10-31</span>
            </p>
          </div>
          <div class="news_item">
            <p>
              <span>水务集团召开党委扩大会议 传达学习党的二十大精神</span>
              <span>2022-10-31</span>
            </p>
          </div>
          <div class="news_item">
            <p>
              <span>水务集团召开党委扩大会议 传达学习党的二十大精神</span>
              <span>2022-10-31</span>
            </p>
          </div>
          <div class="news_item">
            <p>
              <span>水务集团召开党委扩大会议 传达学习党的二十大精神</span>
              <span>2022-10-31</span>
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- 便民服务 -->
    <div class="serve flex_column_center">
      <div class="news_head serve_head">
        <span class="small_title">便民服务</span>
      </div>
      <div class="serve_body">
        <div class="serve_body_left">
          <div class="serve_item" v-for="(item,index) in serveList" :key="index">
            <img :src="item.url" alt="">
            <p></p>
            <div>{{item.txt}}</div>
          </div>
        </div>
        <div class="serve_body_right">
          <img src="/imgs/index/hotline.png" alt="">
        </div>
      </div>
    </div>

    <!-- 公司信息 -->
    <div class="info flex_column_center">
      <div class="info_area">
        <img class="logo_bottom" src="/imgs/index/logo-bottom.png" alt="">
        <div class="info_middle">
          <div class="info_middle_div">
            <div>
              <span>水行业相关网站</span>
              <span>▼</span>
            </div>
            <div>
              <span>供排水企业网站</span>
              <span>▼</span>
            </div>
            <div>
              <span>其它行业网站</span>
              <span>▼</span>
            </div>
          </div>
          <p>青岛水务集团有限公司版权所有Copyright © 2022 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 鲁ICP备05053132号 </p>
        </div>
        <div class="info_right">
          <p style="margin-right: 23px;">
            <img src="/imgs/index/swgzh.png" alt="">
            <span>青岛水务集团</span>
            <span>公众微信号</span>
          </p>
          <p>
            <img src="/imgs/index/xfgzh.png" alt="">
            <span>青岛水务先锋</span>
            <span>公众微信号</span>
          </p>
        </div>
      </div>
      <div class="info_wave">
        <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
          viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
          <defs>
            <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
          </defs>
          <g class="parallax">
            <use xlink:href="#gentle-wave" x="48" y="0" fill="#D6ECF5" />
            <use xlink:href="#gentle-wave" x="48" y="3" fill="#9BD1ED" />
            <use xlink:href="#gentle-wave" x="48" y="7" fill="#6FB9E9" />
          </g>
        </svg>
      </div>
    </div>

    <div class="footer flex_column_center">
      <div>
        <span>http://www.qdwater.com.cn</span>
        <span>青岛亚讯图航网络科技有限公司&nbsp;&nbsp;&nbsp;技术支持</span>
      </div>
    </div>
  </div>

  <script>
    const { createApp } = Vue;

    createApp({
      data() {
        return {
          imgList: [
            { imgUrl: "/imgs/index/carouselBg.png" },
            { imgUrl: "/imgs/index/carouselBg.png" },
            { imgUrl: "/imgs/index/carouselBg.png" },
            { imgUrl: "/imgs/index/carouselBg.png" },
          ],
          leftVal: 0, // 轮播图盒子的偏移值
          flag: true, // 用来节流防止重复点击
          start: null, // 自动执行下一张定的时器
          imgWidth: 0, // 在这里填写你需要的图片宽度
          ition: 0.8, // 设置轮播图过度时间
          imgShow: 0, // 表示当前显示的图片索引
          serveList: [
            { url: '/imgs/index/counter.png', txt: '供水价格' },
            { url: '/imgs/index/serce.png', txt: '服务窗口查询' },
            { url: '/imgs/index/transact.png', txt: '业务办理' },
            { url: '/imgs/index/horn.png', txt: '停水公告' },
            { url: '/imgs/index/mic.png', txt: '水质水压公告' },
            { url: '/imgs/index/note.png', txt: '用水抄表计划' },
            { url: '/imgs/index/guide.png', txt: '办事指南' },
            { url: '/imgs/index/museum.png', txt: '网上博物馆' },
          ]
        };
      },
      mounted() {
        this.timing();
        this.imgWidth = document.body.clientWidth
        window.onresize = () => {  //监听屏幕的改变
          setTimeout(() => {
            this.refresh();
          }, 10)
        };
      },
      methods: {
        refresh() {
          let width = document.body.clientWidth;
          this.imgWidth = width
        },
        MouseFun(type) {
          type == "移入" ? clearTimeout(this.start) : this.timing();
        },
        timing() {
          this.start = setInterval(() => {
            this.NextFun();
          }, 250000000000);
        },
        // 这里通过额外封装的节流函数触发 PrevFun() 和 NextFun(),以达到防止重复点击的效果
        throttle(fun) {
          if (this.flag) {
            this.flag = false;
            fun(); // 此为模板中传递进来的PrevFun()或NextFun()函数
            setTimeout(() => {
              this.flag = true;
            }, 1200); // 节流间隔时间
          }
        },
        // 上一张
        PrevFun() {
          if (this.leftVal == 0) {
            // 判断显示的图片 是 第一张时执行
            // this.imgList.length是指循环图片数组的图片个数
            this.ition = 0; // 将过渡时间变成0，瞬间位移到最后一张图
            this.imgShow = this.imgList.length - 1; // 将高亮小点改为最后一张图
            this.leftVal = this.imgList.length * this.imgWidth; // 瞬间移动
            setTimeout(() => {
              // 通过延时障眼法,归原过渡时间,执行真正的“上一张”函数
              this.ition = 0.8;
              this.leftVal -= this.imgWidth;
            }, this.ition * 1000);
          } else {
            // 判断显示的图片 不是 第一张时执行
            this.ition = 0.8;
            this.leftVal -= this.imgWidth;
            this.imgShow--;
          }
        },
        // 下一张
        NextFun() {
          if (this.leftVal == (this.imgList.length - 1) * this.imgWidth) {
            // 判断显示的图片 是 最后一张时执行
            this.ition = 0.8;
            this.leftVal += this.imgWidth;
            this.imgShow = 0;
            setTimeout(() => {
              this.ition = 0;
              this.leftVal = 0;
            }, this.ition * 1000);
          } else {
            // 判断显示的图片 不是 最后一张时执行
            this.ition = 0.8;
            this.leftVal += this.imgWidth;
            this.imgShow++;
          }
        },
        // 点击小圆点
        instFun(index) {
          this.ition = 0.8;
          this.leftVal = index * this.imgWidth;
          this.imgShow = index;
        },
      },
    }).mount("#app");
  </script>
  <script src="/js/index.js"></script>
</body>

</html>